<!-- Héritage du template de base -->
{% extends "base.html" %}

<!-- Début du bloc content -->
{% block content %}
<div class="container">
    <!-- Titre de la page -->
    <h2>Ajouter une dépense</h2>

    <!-- Début du formulaire -->
    <form method="post">
        {% csrf_token %} <!-- Protection CSRF -->
        
        <!-- Affichage des erreurs globales du formulaire -->
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {{ form.non_field_errors }}
        </div>
        {% endif %}

        <!-- Boucle sur tous les champs du formulaire -->
        {% for field in form %}
        <div class="mb-3">
            <!-- Affichage du label du champ -->
            <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
            
            <!-- Champ de saisie -->
            {{ field }}
            
            <!-- Affichage des erreurs spécifiques au champ -->
            {% if field.errors %}
            <div class="text-danger">
                {{ field.errors }}
            </div>
            {% endif %}
        </div>
        {% endfor %}

        <!-- Bouton pour soumettre le formulaire -->
        <button type="submit" class="btn btn-success">Ajouter</button>
        <!-- Bouton pour revenir à la liste des dépenses -->
        <a href="{% url 'depenses:liste_depenses' %}" class="btn btn-secondary">Annuler</a>
    </form>
</div>
{% endblock %}
